{%- assign switcher_id = id | default: 'LanguageSwitcher' -%}
{%- assign wrapper_class = class | default: 'language-switcher' -%}

{%- if localization.available_languages.size > 1 -%}
  <div class="{{ wrapper_class }}" data-language-switcher>
    {%- form 'localization', class: 'language-switcher__form' -%}
      <span class="visually-hidden" id="{{ switcher_id }}-label">
        {{ 'general.language.label' | t }}
      </span>

      <div
        class="language-switcher__options"
        role="group"
        aria-labelledby="{{ switcher_id }}-label"
      >
        {%- for language in localization.available_languages -%}
          {%- assign is_active = language.iso_code == localization.language.iso_code -%}
          <button
            type="submit"
            name="locale_code"
            value="{{ language.iso_code }}"
            class="language-switcher__option{% if is_active %} language-switcher__option--active{% endif %}"
            aria-pressed="{% if is_active %}true{% else %}false{% endif %}"
            {% if is_active %}aria-current="true"{% endif %}
          >
            {{ language.iso_code | split: '-' | first | upcase }}
          </button>
        {%- endfor -%}
      </div>
    {%- endform -%}
  </div>
{%- endif -%}
